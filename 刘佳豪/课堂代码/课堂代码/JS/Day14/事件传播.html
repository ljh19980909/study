<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>事件传播</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#div1{
				width: 500px;
				height: 500px;
				background-color: red;
			}
			#div2{
				width: 400px;
				height: 400px;
				background-color: yellow;
			}
			#div3{
				width: 300px;
				height: 300px;
				background-color: blue;
			}
			#div4{
				width: 200px;
				height: 200px;
				background-color: green;
			}
			#div5{
				width: 100px;
				height: 100px;
				background-color: purple;
			}
		</style>
	</head>
	<body>
		<div id="div1">
			<div id="div2">
				<div id="div3">
					<div id="div4">
						<div id="div5"></div>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			/*
			 * JS里的事件是会传播的
			 * 
			 * 传播的方式分为两种：
			 * 1.事件冒泡:这是JS默认的事件传播方式，当某个节点上的事件被触发之后,
			该事件会沿着直系继承树向根元素传播,沿途只要有节点绑定了相同的事件,依次触发.
			 * 2.事件捕获:是事件流模型里一个完整事件触发流程里的第一个阶段,当用户触发了
			某个节点的事件,首先,系统会从根元素开始一直向下查找所有的后代元素,直到找到事件
			源元素,沿途,直系继承树上的所有元素如果绑定了相同的事件,依次触发.
			 * 
			 * JS里的事件流模型，描述的是一个事件完整的触发流程，一共分为三步：
			 * 1.事件捕获阶段
			 * 2.事件触发阶段
			 * 3.时间冒泡阶段
			 */
//			div1.onclick = function(){
//				alert("这是div1");
//			}
//			div2.onclick = function(){
//				alert("这是div2");
//			}
//			div3.onclick = function(){
//				alert("这是div3");
//			}
//			div4.onclick = function(){
//				alert("这是div4");
//			}
//			div5.onclick = function(){
//				alert("这是div5");
//			}
			
			/*
			 * 通过设置事件监听的方式绑定事件
			 * 语法:
			 * 元素.addEventListener("事件名","回调函数",是否让函数响应捕获阶段);
			 * true:响应捕获阶段
			 * false:响应冒泡阶段
			 */
			div1.addEventListener("click",function(){
				alert("这是div1");
			},true)
			div2.addEventListener("click",function(){
				alert("这是div2");
			},true)
			div3.addEventListener("click",function(){
				alert("这是div3");
			},true)
			div4.addEventListener("click",function(){
				alert("这是div4");
			},true)
			div5.addEventListener("click",function(){
				alert("这是div5");
			},true)
			
			/*
			 * 面试题:普通方式绑定事件和事件监听方式绑定事件的区别和联系
			 */
		</script>
	</body>
</html>
